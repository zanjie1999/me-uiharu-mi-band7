# 咩咩的初春饰利 照片表盘
小米手环7的表盘

显示秒 亮度调节 咩Auth（MFA/2FA/TOTP两步验证） 咩Img图库 日历 随机骰子🎲

2022/08/23 在 杨铭洲际100231 的提议下改为发布二进制文件，本仓库用于发布版本，预编译运行更快（

至于开源，可以私信联系提供部分代码以供学习参考

## 功能
众所周知，显示的越多功能越多就越费电，包括息屏时所有数据都是1秒刷新一次的，屏幕关闭时是暂停的，受限于系统，实际息屏耗电量还有很大的优化空间

显示秒，抢购卡点就靠它了

在设置亮色背景的时候，保证了字体的辨识度，并且将息屏显示的亮度降低一半，亮度将会自动在0点和7点调为-10%和0%，避免夜间被亮瞎，本小时内手动调节后将不再自动调节

在显示表盘以及亮屏的前0.7秒的冷却时间，避免在关闭闹钟或者提醒时调节了亮度，点击亮屏时把日历关了之类的误触操作

功能在30秒超时后会自动退出（显示验证码时和日历时60秒）

| 点击的位置 | 功能       |
| -------- | ---------- |
| 步数      | 增加亮度    |
| 心率      | 减少亮度    |
| 星期/日期 | 日历        |
| 秒       | 咩Auth验证器 |
| 双击中间空白 | 咩Img图库 |

在日历中，点击日历的 年-月-日 显示剩余磁盘空间，点击中间退出日历

在咩Auth验证器中，点击顶部 咩Auth 退出咩Auth验证器

点击电量的位置还可以投一下骰子，会显示一个1-6的随机数，可以解决各种纠结问题，选择恐惧症福音（

在咩Img图库中，点击顶部退出，剩下的上半部分和下半部分进行图片切换，下翻循环翻页，上翻到头即退出

## 配置
windows的7zip压缩的zip在最新固件会安装失败，可以尝试在linux或者mac上用`zip -r install.bin *`的方式打包安装

编辑`assets/meAuth.json`文件来修改 咩Auth 的key，像例子那样一个名字对应一个key，每一对用英文逗号隔开，会按顺序显示，前后需要有`{`和`}`，删除这个文件将关闭 咩Auth 功能  
文件编码格式需要使用`UTF-16 LE`，如果表盘弹窗提示错误且功能打不开，请检查编码是否正确,建议使用vscode编辑

`assets/meCalStartSun`文件决定了日历的显示是否将周日开始，删除这个文件将从周一开始

在`assets`创建一个文件夹`meImg`并将192x490分辨率的图片转换为tga格式的png放进去（图片转换器ImageToGTR3），不等于这个分辨率将对齐左上角显示

图片尺寸越小越省空间，像二维码可以做成192x192的方形图片，将``.png``后缀改为`..png`放入，显示时将自动位移至中间显示

## 安装
zepplife已上架 咩咩的照片表盘

替换照片表盘2，并且使用照片表盘2的更换背景图的功能可以更换背景图，如果不需要替换背景图，使用工具或是随便替换一个表盘表盘均可安装

或是使用ps制作192x490分辨率的png8，并使用工具转换，替换表盘中的bg.png

ios可以使用[测试版的AmazTool](https://testflight.apple.com/join/Q2Rl3rq0)

## 鸣谢
咩咩乐园的群友们  
酷安 淅沥沥丶下雨（提供了息屏的空心数字素材）  
米坛 zzt741（在它做的简易日历的启发下做了目前的日历功能，但其向华米版权投诉宣称这功能是它做的，导致下架，实际上它并未参与任何开发）  
